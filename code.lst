Microsoft (R) Macro Assembler Version 14.38.33130.0	    11/05/24 19:47:29
code.asm						     Page 1 - 1


				.686
				.model flat
				extern __write : PROC
				extern _ExitProcess@4 : PROC

				public _main

 00000000			.data
 00000000  0000000C [			znaki db 12 dup (?)
	    00
	   ]

 00000000			.code
 00000000				wyswietl_EAX PROC
 00000000  60					pusha ; zapisanie rejestrów ogólnych

 00000001  BE 0000000A				mov esi, 10 ; indeks w tablicy 'znaki'
 00000006  BB 0000000A				mov ebx, 10 ; dzielnik równy 10

 0000000B				konwersja:
 0000000B  BA 00000000				mov edx, 0 ; zerowanie starszej czêœci dzielnej
 00000010  F7 F3				div ebx ; dzielenie przez 10, reszta w EDX, iloraz w EAX
 00000012  80 C2 30				add dl, 30H ; zamiana reszty z dzielenia na kod ASCII
 00000015  88 96 00000000 R			mov znaki [esi], dl; zapisanie cyfry w kodzie ASCII
 0000001B  4E					dec esi ; zmniejszenie indeksu
 0000001C  83 F8 00				cmp eax, 0 ; sprawdzenie czy iloraz = 0
 0000001F  75 EA				jne konwersja ; skok, gdy iloraz niezerowy
						
						 ; wype³nienie pozosta³ych bajtów spacjami i wpisanie znaków nowego wiersza
 00000021				wypeln:
 00000021  0B F6				or esi, esi
 00000023  74 0A				jz wyswietl ; skok, gdy ESI = 0
 00000025  C6 86 00000000 R			mov byte PTR znaki [esi], 20H ; kod spacji
	   20
 0000002C  4E					dec esi ; zmniejszenie indeksu
 0000002D  EB F2				jmp wypeln

 0000002F				wyswietl:
 0000002F  C6 05 00000000 R			mov byte PTR znaki [0], 0AH ; kod nowego wiersza
	   0A
 00000036  C6 05 0000000B R			mov byte PTR znaki [11], 0AH ; kod nowego wiersza
	   0A
						; wyœwietlenie cyfr na ekranie
 0000003D  68 0000000C				push dword PTR 12 ; liczba wyœwietlanych znaków
 00000042  68 00000000 R			push dword PTR OFFSET znaki ; adres wyœw. obszaru
 00000047  68 00000001				push dword PTR 1; numer urz¹dzenia (ekran ma numer 1)
 0000004C  E8 00000000 E			call __write ; wyœwietlenie liczby na ekranie
 00000051  83 C4 0C				add esp, 12 ; usuniêcie parametrów ze stosu

 00000054  61					popa ; przywrócenie rejestrów ogólnych
 00000055  C3					ret ; powrót do miejsca wywo³ania
 00000056				wyswietl_EAX ENDP

 00000056				_main PROC
 00000056  B8 00000001				mov eax, 1
 0000005B  BB 00000000				mov ebx, 0
 00000060  BE 00000032				mov esi, 50

 00000065				ptl:
 00000065  03 C3				add eax, ebx
 00000067  E8 FFFFFF94				call wyswietl_EAX
 0000006C  43					inc ebx
 0000006D  4E					dec esi
 0000006E  83 FE 00				cmp esi, 0
 00000071  75 F2				jne ptl
						

 00000073  6A 00				push 0
 00000075  E8 00000000 E			call _ExitProcess@4
 0000007A				_main ENDP

				END
Microsoft (R) Macro Assembler Version 14.38.33130.0	    11/05/24 19:47:29
code.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 0000000C Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 0000007A Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

_main  . . . . . . . . . . . . .	P Near	 00000056 _TEXT	Length= 00000024 Public
  ptl  . . . . . . . . . . . . .	L Near	 00000065 _TEXT	
wyswietl_EAX . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000056 Public
  konwersja  . . . . . . . . . .	L Near	 0000000B _TEXT	
  wypeln . . . . . . . . . . . .	L Near	 00000021 _TEXT	
  wyswietl . . . . . . . . . . .	L Near	 0000002F _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_ExitProcess@4 . . . . . . . . .	L Near	 00000000 FLAT	External
__write  . . . . . . . . . . . .	L Near	 00000000 FLAT	External
znaki  . . . . . . . . . . . . .	Byte	 00000000 _DATA	

	   0 Warnings
	   0 Errors
